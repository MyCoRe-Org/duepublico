<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<actionmappings>

  <!-- E-Dissertationen -->
  <collection name="Diss">
    <action action="create">
      <when condition="(group = admin) or (group = ediss) or (group = submitter)" url="/content/diss/form.xed" />
      <when condition="true" url="/authorization/login.xed?url=../servlets/MCRActionMappingServlet/Diss/create&amp;cancel=../content/diss/publish.xml" />
    </action>
    <action action="update">
      <when condition="true" url="/servlets/MCRLockServlet?url=/content/diss/form.xed" />
    </action>
    <action action="create-child">
      <when condition="true" url="" />
    </action>
    <action action="create-copy">
      <when condition="true" url="" />
    </action>
  </collection>
  
  <!-- Personenindex -->
  <collection name="personindex">
    <action action="browse">
      <when condition="(group = admin) or (group = editor)" url="/servlets/solr/personindex?XSL.Style=person&amp;terms.regex=%5Ba%7C%C3%A4%7C%C3%84%5D.*" />
      <when condition="true" url="/servlets/solr/personindexp?XSL.Style=person&amp;terms.regex=%5Ba%7C%C3%A4%7C%C3%84%5D.*" />
    </action>
  </collection>
  
  <!-- Standard MIR -->
  <collection name="mods">
    <action action="create">
      <when condition="(group = admin) or (group = editor)" url="/editor/editor-admins.xed" />
      <when condition="group = submitter" url="/content/publish/index.xml" />
      <when condition="true" url="/authorization/login.xed?url=../servlets/MCRActionMappingServlet/mods/create" />
    </action>
    <action action="create-child">
      <when condition="(group = admin) or (group = editor)" url="/editor/editor-admins.xed" />
      <when condition="group = submitter" url="/editor/editor-dynamic.xed" />
      <when condition="true" url="/authorization/login.xed?url=../servlets/MCRActionMappingServlet/mods/create-child" />
    </action>
    <action action="create-copy">
      <when condition="(group = admin) or (group = editor)" url="/editor/editor-admins.xed" />
      <when condition="group = submitter" url="/editor/editor-dynamic.xed" />
      <when condition="true" url="/authorization/login.xed?url=../servlets/MCRActionMappingServlet/mods/create-copy" />
    </action>
    <action action="update">
      <when condition="(group = admin) or (group = editor)" url="/servlets/MCRLockServlet?url=/editor/editor-dynamic.xed" />
      <when condition="(status != published) and (status != review)" url="/servlets/MCRLockServlet?url=/editor/editor-dynamic.xed" />
    </action>
    <action action="update-admin">
      <when condition="(group = admin) or (group = editor)" url="/servlets/MCRLockServlet?url=/editor/editor-admins.xed" />
    </action>
    <action action="update-xml">
      <when condition="(group = admin)" url="/servlets/MCRLockServlet?url=/editor/editor-xml.xed" />
    </action>
  </collection>
  
</actionmappings>